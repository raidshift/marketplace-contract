const a0_0xf1b461=a0_0x387a;function a0_0x1c48(){const _0x10d151=['length','chainChanged','Web3\x20provider:\x20','accountsChanged','ready','1301337KVTdIz','1985eyphVd','returnValues','valTOKEN','Web3\x20provider:\x20from\x20wallet','1740690Krkotg','UpdateOffer','latest','4894443YeweKr','location','<img\x20src=\x22bttc.svg\x22\x20height=\x2218\x22\x20width=\x2218\x22\x20/>&nbsp;','prop','751672hAVoiR','seller','then','valB','add\x20chain','1rtvOKK','reload','https://pre-rpc.bt.io/','log','sell','#accountDiv','1517188DnseLl','forEach','hidden','givenProvider','wallet_addEthereumChain','request','eth','valA','2362832GGbFsw','catch','html','Account\x20=\x20','Bittorrent\x20Chain\x20(Test)','Contract','5928noelQe','toString','ethereum','networkVersion'];a0_0x1c48=function(){return _0x10d151;};return a0_0x1c48();}function a0_0x387a(_0x5db40e,_0xba3857){const _0x1c48d6=a0_0x1c48();return a0_0x387a=function(_0x387a42,_0x5a8bb4){_0x387a42=_0x387a42-0x12e;let _0x4c8dc5=_0x1c48d6[_0x387a42];return _0x4c8dc5;},a0_0x387a(_0x5db40e,_0xba3857);}(function(_0x2105fe,_0x4812ed){const _0x3aa6d7=a0_0x387a,_0x26d4fc=_0x2105fe();while(!![]){try{const _0x26e720=-parseInt(_0x3aa6d7(0x146))/0x1*(-parseInt(_0x3aa6d7(0x141))/0x2)+parseInt(_0x3aa6d7(0x135))/0x3+-parseInt(_0x3aa6d7(0x14c))/0x4+parseInt(_0x3aa6d7(0x136))/0x5*(parseInt(_0x3aa6d7(0x15a))/0x6)+parseInt(_0x3aa6d7(0x13a))/0x7+-parseInt(_0x3aa6d7(0x154))/0x8+-parseInt(_0x3aa6d7(0x13d))/0x9;if(_0x26e720===_0x4812ed)break;else _0x26d4fc['push'](_0x26d4fc['shift']());}catch(_0x51abc5){_0x26d4fc['push'](_0x26d4fc['shift']());}}}(a0_0x1c48,0x38a6b));let CHAIN_ID=0x405,CHAIN_NAME=a0_0xf1b461(0x158),CHAIN_RPC_URL=a0_0xf1b461(0x148);const CHAIN_SYMBOL='BTT';let web3;CONTRACT_OFFERA4B_1='0xfc63039911037742A7255a86EF4D281273876D12',CONTRACT_OFFERA4B_2='0x92f756d491A3A353B53b5b5Cb34E21B08797b24B';let INIT_ERROR=![],currentAccount;function handleChainChanged(_0x2d7e86){const _0x3ae47f=a0_0xf1b461;window[_0x3ae47f(0x13e)][_0x3ae47f(0x147)]();}function handleAccountsChanged(_0x19e497){const _0x24744c=a0_0xf1b461;console['log']('Wallet\x20account\x20changed');if(INIT_ERROR||_0x19e497[_0x24744c(0x130)]===0x0)window['location']['reload']();else _0x19e497[0x0]!==currentAccount&&(currentAccount=_0x19e497[0x0],console[_0x24744c(0x149)](_0x24744c(0x157)+_0x19e497[0x0]),$('.account')[_0x24744c(0x156)](_0x24744c(0x13f)+shortenString(_0x19e497[0x0])));}async function connectToWeb3Wallet(){const _0x17eaaa=a0_0xf1b461;try{if(window[_0x17eaaa(0x12e)][_0x17eaaa(0x12f)]!==CHAIN_ID)try{await window[_0x17eaaa(0x12e)][_0x17eaaa(0x151)]({'method':'wallet_switchEthereumChain','params':[{'chainId':'0x'+CHAIN_ID[_0x17eaaa(0x15b)](0x10)}]});}catch(_0x33b07f){console[_0x17eaaa(0x149)](_0x17eaaa(0x145)),await window[_0x17eaaa(0x12e)]['request']({'method':_0x17eaaa(0x150),'params':[{'chainName':CHAIN_NAME,'chainId':'0x'+CHAIN_ID[_0x17eaaa(0x15b)](0x10),'nativeCurrency':{'name':CHAIN_SYMBOL,'decimals':0x12,'symbol':CHAIN_SYMBOL},'rpcUrls':[CHAIN_RPC_URL]}]});}await ethereum[_0x17eaaa(0x151)]({'method':'eth_requestAccounts'})[_0x17eaaa(0x143)](handleAccountsChanged)[_0x17eaaa(0x155)](_0x15a099=>{const _0x5e485d=_0x17eaaa;console[_0x5e485d(0x149)](_0x15a099);throw _0x15a099;}),ethereum['on'](_0x17eaaa(0x131),handleChainChanged),ethereum['on'](_0x17eaaa(0x133),handleAccountsChanged),console[_0x17eaaa(0x149)](_0x17eaaa(0x139)),web3=new Web3(Web3[_0x17eaaa(0x14f)]);}catch(_0x18728f){console['log'](_0x17eaaa(0x132)+CHAIN_RPC_URL),web3=new Web3(CHAIN_RPC_URL);}}$(document)[a0_0xf1b461(0x134)](async function(){const _0x2c2fd1=a0_0xf1b461;$(_0x2c2fd1(0x14b))[_0x2c2fd1(0x140)](_0x2c2fd1(0x14e),![]),await connectToWeb3Wallet(),token=new web3[(_0x2c2fd1(0x152))][(_0x2c2fd1(0x159))](ABI_OFFERA4B,CONTRACT_OFFERA4B_1);const _0x3ad395=await token['getPastEvents'](_0x2c2fd1(0x13b),{'fromBlock':0x0,'toBlock':_0x2c2fd1(0x13c)});let _0x2f7ce0=[];_0x3ad395['forEach'](_0x2cea49=>{const _0x15fd86=_0x2c2fd1;(!_0x2f7ce0[_0x2cea49['returnValues']['id']]||BigNumber(_0x2cea49[_0x15fd86(0x137)]['valA'])['isLessThan'](_0x2f7ce0[_0x2cea49['returnValues']['id']][_0x15fd86(0x138)]))&&(_0x2f7ce0[_0x2cea49[_0x15fd86(0x137)]['id']]={'id':'s'+_0x2cea49[_0x15fd86(0x137)]['id'],'issuer':_0x2cea49[_0x15fd86(0x137)][_0x15fd86(0x142)],'valTOKEN':_0x2cea49[_0x15fd86(0x137)][_0x15fd86(0x153)],'valSTABLE':_0x2cea49[_0x15fd86(0x137)][_0x15fd86(0x144)],'sell':!![]});}),_0x2f7ce0[_0x2c2fd1(0x14d)](_0x4cae09=>{const _0x4fb4d9=_0x2c2fd1;console[_0x4fb4d9(0x149)](_0x4cae09['id'],_0x4cae09['issuer'],_0x4cae09[_0x4fb4d9(0x138)],_0x4cae09['valSTABLE'],_0x4cae09[_0x4fb4d9(0x14a)]);});});